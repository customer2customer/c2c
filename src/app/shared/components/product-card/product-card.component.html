<article class="product-card">
  <div class="image-wrapper">
    <img class="primary" [src]="product.images[0] || 'https://placehold.co/400x300'" [alt]="product.productName" />
    <img
      *ngIf="product.hoverMedia"
      class="hover"
      [src]="product.hoverMedia"
      [alt]="product.productName + ' preview'"
      loading="lazy"
    />
    <span class="badge">-{{ discountPercent }}%</span>
    <span class="stock" [class.out-of-stock]="product.stock === 0 && product.availabilityStatus !== 'preorder'">
      {{ stockLabel }}
    </span>
    <span class="video-pill" *ngIf="product.videoUrl">ðŸŽ¬ How it's made</span>
  </div>
  <div class="content">
    <div class="title-row">
      <h3 title="{{ product.productName }}">{{ product.productName }}</h3>
      <span class="rating">â˜… {{ product.sellerRating | number: '1.1-1' }}</span>
    </div>
    <p class="description">{{ product.description }}</p>
    <p class="price">
      <span class="c2c">â‚¹{{ product.c2cPrice | number: '1.0-0' }}</span>
      <span class="market">â‚¹{{ product.marketPrice | number: '1.0-0' }}</span>
    </p>
    <div class="meta">
      <span class="location">
        {{ product.sellerLocations[0]?.city }}
        <ng-container *ngIf="product.sellerLocations.length > 1">(+{{ product.sellerLocations.length - 1 }} more)</ng-container>
      </span>
      <span class="category">{{ product.category }}</span>
    </div>
  </div>
</article>
